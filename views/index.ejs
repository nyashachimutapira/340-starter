<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EJS Index.ejs Demo</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        primary: '#5D5CDE',
                    }
                }
            }
        }
        
        // Dark mode detection
        if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
            document.documentElement.classList.add('dark');
        }
        window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', event => {
            if (event.matches) {
                document.documentElement.classList.add('dark');
            } else {
                document.documentElement.classList.remove('dark');
            }
        });
    </script>
</head>
<body class="bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100 min-h-screen flex flex-col">
    <div class="container mx-auto px-4 py-8 flex-1">
        <h1 class="text-3xl font-bold mb-6 text-primary">Creating the index.ejs File</h1>
        
        <!-- THE INDEX.EJS FILE -->
        <div class="mb-8 bg-gray-100 dark:bg-gray-800 p-6 rounded-lg shadow-md">
            <h2 class="text-xl font-semibold mb-4">Step 1: Create index.ejs</h2>
            <p class="mb-4">Create a new file called <code class="px-2 py-1 bg-gray-200 dark:bg-gray-700 rounded">index.ejs</code> in the views folder with just an h1 element containing your name:</p>
            <div class="font-mono text-sm">
                <pre class="bg-white dark:bg-gray-900 p-4 rounded border border-gray-300 dark:border-gray-700 overflow-x-auto">
&lt;h1&gt;John Doe&lt;/h1&gt;</pre>
            </div>
            <p class="mt-4 text-sm italic"</div>"Nyasha Chimutapira"</p>
        </div>
        
        <!-- EXPLANATION -->
        <div class="mb-8 bg-gray-100 dark:bg-gray-800 p-6 rounded-lg shadow-md">
            <h2 class="text-xl font-semibold mb-4">Why So Simple?</h2>
            <p>The index.ejs file only needs the content that will be injected into the layout template. Since all the HTML structure, header, navigation, and footer are already defined in the layout.ejs and partial files, your index.ejs only needs the specific content for this view.</p>
            <p class="mt-3">When Express renders the view, it will:</p>
            <ol class="list-decimal list-inside mt-2 space-y-2">
                <li>Use layout.ejs as the template</li>
                <li>Include all the partials (head, header, navigation, footer)</li>
                <li>Replace the <code class="px-2 py-1 bg-gray-200 dark:bg-gray-700 rounded">&lt;%- body %&gt;</code> tag with the content from index.ejs</li>
                <li>Send the complete HTML to the browser</li>
            </ol>
        </div>
        
        <!-- VISUALIZATION -->
        <div class="bg-gray-100 dark:bg-gray-800 p-6 rounded-lg shadow-md">
            <h2 class="text-xl font-semibold mb-4">How It All Fits Together</h2>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div class="bg-white dark:bg-gray-900 p-4 rounded border border-gray-300 dark:border-gray-700">
                    <h3 class="text-lg font-semibold mb-2">File Structure</h3>
                    <div class="font-mono text-sm">
                        <pre class="overflow-x-auto">
views/
├── layouts/
│   └── layout.ejs
├── partials/
│   ├── head.ejs
│   ├── header.ejs
│   ├── navigation.ejs
│   └── footer.ejs
└── index.ejs  &lt;-- Your new file</pre>
                    </div>
                </div>
                
                <div>
                    <h3 class="text-lg font-semibold mb-2">Rendering Process</h3>
                    <div class="relative">
                        <!-- Layout -->
                        <div class="border-2 border-blue-500 p-3 mb-2 rounded-lg bg-white dark:bg-gray-900">
                            <div class="text-xs text-blue-500 font-bold mb-1">layout.ejs</div>
                            <div class="p-2 border-b border-gray-300 dark:border-gray-700">
                                &lt;%- include('../partials/head') %&gt;
                            </div>
                            <div class="p-2 border-b border-gray-300 dark:border-gray-700">
                                &lt;%- include('../partials/header') %&gt;
                            </div>
                            <div class="p-2 border-b border-gray-300 dark:border-gray-700">
                                &lt;%- include('../partials/navigation') %&gt;
                            </div>
                            <div class="p-2 border-2 border-red-500 rounded-md bg-red-100 dark:bg-red-900/20">
                                &lt;%- body %&gt; <span class="text-red-500 font-bold">← index.ejs goes here</span>
                            </div>
                            <div class="p-2">
                                &lt;%- include('../partials/footer') %&gt;
                            </div>
                        </div>
                        
                        <!-- Arrow -->
                        <div class="flex justify-center items-center my-2">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-primary" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3" />
                            </svg>
                        </div>
                        
                        <!-- Final Result -->
                        <div class="border-2 border-green-500 p-3 rounded-lg bg-white dark:bg-gray-900">
                            <div class="text-xs text-green-500 font-bold mb-1">Complete Rendered HTML</div>
                            <div class="text-sm">Complete HTML with all partials and the index.ejs content combined</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
</html>